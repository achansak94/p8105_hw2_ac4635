---
title: "Homework 2"
author: "JR Chansakul"
date: 2020-09-21
output: 
  html_document:
    toc: true
---

```{r}
library(tidyverse)
library(readxl)
```

## Problem 1

Read the Mr. Trashwheel dataset. 

```{r}
trashwheel_df =
  read_xlsx("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range = cell_cols("A:N")) %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_ball = round(sports_balls),
    sports_ball = as.integer(sports_balls)
  )
```

This dataset contains information for the Mr. Trashwell trash collector in Baltimore, Maryland. As trash enters the inner harbor, the trashwheel collects that trash 

Read precipitation data!

```{r}
precip_2018 =
  read_xlsx("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    skip = 1
  ) %>%  
  janitor::clean_names() %>% 
  drop_na(month) %>% 
    mutate(year = 2018) %>% 
    relocate(year)
  
precip_2017 =
  read_xlsx("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    skip = 1
  ) %>%  
  janitor::clean_names() %>% 
  drop_na(month) %>% 
    mutate(year = 2017) %>% 
    relocate(year)

```

Now combine annual precipitation 

```{r}
month_df =
    tibble(
      month_num = 1:12
    )

precip_df = 
  bind_rows(precip_2018, precip_2017)
```

This dataset contains information from the Mr. Trashwheel trash collector in Baltimore, Maryland. As trash enters the inner harbor, the trashwheel collects that trash, and stores it in a dumpster. The dataset contains information on year, month, and trash collected, include some specific kinds of trash. There are a total of `r nrow(trashwheel_df)` rows in our final dataset. Additional data sheets include month precipitation data. In this dataset:

* The median number of sports balls found in a dumpster in 2017 was `r trashwheel_df %>% filter(year == 2017) %>% pull(sports_balls) %>% median()`
* The total precipitation in 2018 was `r precip_df %>% filter(year == 2018) %>% pull(total) %>% sum()` inches.



# Problem 2

Import and clean NYC transit data.

```{r NYC_transit_data}
NYC_transit_df =
  read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
    janitor::clean_names() %>% 
    select(line:ada, -staffing, -staff_hours, -exit_only) %>% 
    mutate (entry = recode(entry, 'YES' = TRUE, 'NO' = FALSE)
    )



```

This dataset contains entry and exit information for the NYC subway station with the following variables of interest filtered from the imported dataset: `r names(NYC_transit_df)`. I kept variables with key information such as station name, entrance type and ADA compliance and removed variables such as exit and entrance location. Additionally, the entry variable was converted from a character to a logical variable. The dataset has a total of `r nrow(NYC_transit_df)` rows and `r ncol(NYC_transit_df)` columns with each row representing an entrance or exit. 
Each row contains the line, name, location (latitude, longitude) and route(s) associated with the station. The dataset is not tidy because the route 1 through route 11 columns contains variable information (e.g. subways on that line) and has many NAs.  

There are `r count(distinct(NYC_transit_df, line, station_name))` distinct stations. 



```{r}
subway_data =
  NYC_transit_df
  

```



